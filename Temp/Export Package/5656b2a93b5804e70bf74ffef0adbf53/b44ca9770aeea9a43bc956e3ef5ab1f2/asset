using UnityEngine;
using System.Collections;
#if UNITY_EDITOR
using UnityEditor;
#endif
/// <summary>
/// used to control the AI's dialogue
/// where it goes is determined by the DialogueButton script, not the actual dialogue
/// </summary>
public class SwitchOutput : OutPut
{

    public override Vector3 Right(Node node)
    {
        int i = 0;
        for (i = 0; i < connectedTo.Count; i++)
        {
            if (connectedTo[i] == node)
            {
                break;
            }
        }
        return new Vector3(pos.x + pos.width, (2 * pos.y + 60 + i * 35) / 2, 0);
    }
    public override Node GetResult(int index)
    {
        return base.GetResult(index);
    }
    public override string Type()
    {
        return "Switch";
    }
    public override void CopyTo(Node other)
    {
        SwitchOutput temp = other as SwitchOutput;
        temp.Output = Output;
        base.CopyTo(other);
    }

#if UNITY_EDITOR
    public override void DrawNode(int id = 0)
    {
        for (int i = 0; i < connectedTo.Count; i++)
        {
            GUILayout.BeginHorizontal();
            GUILayout.FlexibleSpace();
            GUILayout.Label("Answer " + (i + 1).ToString() + ": " + connectedTo[i].name);
            ReorderConnectionsUpDown(i);
            GUILayout.EndHorizontal();
        }
        base.DrawNode(id);
    }
#endif
}
